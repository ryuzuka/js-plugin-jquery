<!DOCTYPE html>
<html lang="ko">
<head>
  @@include('./html/inc/meta.html',{
		"rootpath": "app",
    "pagetitle": "guide"
  })
</head>
<body>
  <style>
    .contents section + section {
      margin-top:40px;
    }
    .contents h2 {
      margin-bottom:20px;
      padding:20px 0;
      border-bottom:1px solid #e8e8e8;
      font-size:20px;
      font-weight:bold;
      text-transform:capitalize;
    }
    .contents h3 {
      padding:20px 0;
      text-transform:capitalize;
    }
    .contents h3:before {
      content:'* ';
    }
  </style>

  <div class="wrap">
    @@include('./html/inc/header.html')

    <!--: Start #contents -->
    <div id="contents" class="contents">
	    <h2>accordion</h2>
	    <section>
		    <dl class="accordion js-accordion">
			    <dt class="accordion-head"><button type="button" aria-controls="acco-content1" aria-expanded="false">accordion1</button></dt>
			    <dd id="acco-content1" class="accordion-content">contents1</dd>
			    <dt class="accordion-head"><button type="button" aria-controls="acco-content2" aria-expanded="false">accordion2</button></dt>
			    <dd id="acco-content2" class="accordion-content">contents2</dd>
			    <dt class="accordion-head"><button type="button" aria-controls="acco-content3" aria-expanded="false">accordion3</button></dt>
			    <dd id="acco-content3" class="accordion-content">contents3</dd>
		    </dl>
	    </section>
	    <br>
	
	    <h2>calendar (datepicker)</h2>
	    <section>
		    <div class="js-calendar datepicker">
			    <input type="text" id="datepicker" readonly>
		    </div>
		    <br>
	      <button type="button" class="calendar-btn btn btn-tertiary">get</button>
	    </section>
		  <br>

      <h2>dropdown</h2>
      <section>
        <div class="dropdown js-dropdown" data-placeholder="선택하세요.">
          <button type="button" id="dropdown" class="dropdown-btn" aria-haspopup="listbox" aria-expanded="false">SKT</button>
          <ul class="dropdown-list" role="listbox" aria-labelledby="dropdown" tabindex="-1">
            <li role="option" aria-selected="false"><button type="button" data-value="">0_SKT</button></li>
            <li role="option" aria-selected="false"><button type="button" data-value="">1_KT</button></li>
            <li role="option" aria-selected="false"><button type="button" data-value="">2_LG U+</button></li>
            <li role="option" aria-selected="false"><button type="button" data-value="">3_알뜰폰</button></li>
	          <li role="option" aria-selected="false"><button type="button" data-value="">4_SKT</button></li>
	          <li role="option" aria-selected="false"><button type="button" data-value="">5_KT</button></li>
	          <li role="option" aria-selected="false"><button type="button" data-value="">6_LG U+</button></li>
	          <li role="option" aria-selected="false"><button type="button" data-value="">7_알뜰폰</button></li>
          </ul>
        </div>
        <br>
        <button class="btn btn-tertiary dropdown-apply">apply</button>
        <button class="btn btn-tertiary dropdown-clear">clear</button>
      </section>
      <br>
	    
	    <h2>postcode - Daum 우편번호 서비스</h2>
	    <section>
		    <div class="js-postcode">
			    <div class="address">
			      <input type="text" readonly>
			    </div>
			    <br>
			    <div class="detail">
				    <input type="text" title="상세 주소 입력" placeholder="상세주소를 입력해주세요.">
			    </div>
			    <br>
			    <button type="button" class="btn btn-search">주소 검색</button>
		    </div>
	    </section>
      <br>
	
	    <h2>paging</h2>
      <section>
        <div class="paging js-paging">
          <button type="button" class="paging-first" disabled><span>처음</span></button>
          <button type="button" class="paging-prev" disabled><span>이전</span></button>
          <div class="paging-list">
            <a href="#" aria-current="page">1</a>
            <a href="#">2</a>
            <a href="#">3</a>
            <a href="#">4</a>
            <a href="#">5</a>
            <a href="#">6</a>
            <a href="#">7</a>
            <a href="#">8</a>
            <a href="#">9</a>
            <a href="#">10</a>
          </div>
          <button type="button" class="paging-next"><span>다음</span></button>
          <button type="button" class="paging-last"><span>마지막</span></button>
        </div>
        <br>
        <button class="btn btn-tertiary paging-apply">apply</button>
        <button class="btn btn-tertiary paging-clear">clear</button>
      </section>
      <br>
	
	    <h2>tab</h2>
      <section>
        <div class="tab js-tab">
          <div class="tab-list" role="tablist">
            <button type="button" id="tab1" role="tab" aria-controls="tab-content1" aria-selected="false">tab1</button>
            <button type="button" id="tab2" role="tab" aria-controls="tab-content2" aria-selected="false">tab2</button>
            <button type="button" id="tab3" role="tab" aria-controls="tab-content3" aria-selected="false">tab3</button>
          </div>
          <div class="tab-content">
            <div id="tab-content1" class="content" role="tabpanel" aria-labelledby="tab1" tabindex="0" hidden>
              tab1 contents
            </div>
            <div id="tab-content2" class="content" role="tabpanel" aria-labelledby="tab2" tabindex="0" hidden>
              tab2 contents
            </div>
            <div id="tab-content3" class="content" role="tabpanel" aria-labelledby="tab3" tabindex="0" hidden>
              tab3 contents
            </div>
          </div>
        </div>
        <br>
        <button class="btn btn-tertiary tab-apply">apply</button>
        <button class="btn btn-tertiary tab-clear">clear</button>
      </section>
      <br>
	
	    <h2>modal</h2>
      <section>
        <div>
          <button style="padding: 12px" type="button" class="modalBtn btn alert" aria-haspopup="dialog" aria-controls="pop-alert">alert</button>
          <button style="padding: 12px" type="button" class="modalBtn btn confirm" aria-haspopup="dialog" aria-controls="pop-confirm">confirm</button>
          <button style="padding: 12px" type="button" class="modalBtn btn modal" aria-haspopup="dialog" aria-controls="pop-modal">modal</button>
          <button style="padding: 12px" type="button" class="modalBtn btn full" aria-haspopup="dialog" aria-controls="pop-full">full</button>
        </div>

        <div id="pop-alert" class="layer" role="dialog" aria-modal="true">
          <div class="layer-wrap">
            <div class="title">alert title</div>
            <button class="close">close</button>
            <div class="layer-content">
              alert contents
            </div>
            <div class="button-wrap">
              <button class="btn">ok</button>
            </div>
          </div>
        </div>
        <div id="pop-confirm" class="layer" role="dialog" aria-modal="true">
          <div class="layer-wrap">
            <div class="title">confirm title</div>
            <button class="close">close</button>
            <div class="layer-content">
              confirm contents
            </div>
            <div class="button-wrap">
              <button class="btn">cancel</button>
              <button class="btn">confirm</button>
            </div>
          </div>
        </div>
        <div id="pop-modal" class="layer" role="dialog" aria-modal="true">
          <div class="layer-wrap">
            <div class="title">modal title</div>
            <button class="close">close</button>
            <div class="layer-content" style="overflow: auto; height: 200px">
	            <button class="btn modalBtn">alert</button><br>
	            <br>scroll
	            <br>scroll
	            <br>scroll
	            <br>scroll
	            <br>scroll
	            <br>scroll
	            <br>scroll
	            scroll
            </div>
          </div>
        </div>
        <div id="pop-full" class="layer" role="dialog" aria-modal="true">
          <div class="layer-wrap full">
            <div class="title">full modal title</div>
            <button class="close">close</button>
            <div class="layer-content">
              full contents
              <button class="modalBtn">alert</button>
            </div>
          </div>
        </div>
      </section>
	    
      <h2>swiper</h2>
      <section>
	      <!-- Slider main container -->
	      <div class="swiper" style="height: 100px;">
		      <!-- Additional required wrapper -->
		      <div class="swiper-wrapper">
			      <!-- Slides -->
			      <div class="swiper-slide">Slide 1</div>
			      <div class="swiper-slide">Slide 2</div>
			      <div class="swiper-slide">Slide 3</div>
			      ...
		      </div>
		      <!-- If we need pagination -->
		      <div class="swiper-pagination"></div>
		
		      <!-- If we need navigation buttons -->
		      <div class="swiper-button-prev"></div>
		      <div class="swiper-button-next"></div>
		
		      <!-- If we need scrollbar -->
		      <div class="swiper-scrollbar"></div>
	      </div>
	
	      <br>
        <p><a href="https://swiperjs.com/" target="_blank">https://swiperjs.com/</a></p>
      </section>
	
	    <h2>textarea</h2>
	    <section>
        <div class="js-textarea">
          <textarea id="txt-field" name="txt-field" maxlength="1000" cols="30" rows="10"></textarea>
          <span class="current-length">0</span>/<span class="total-length">100</span>
        </div>
      </section>
	
	    <h2>countdown</h2>
	    <section>
        <div class="js-countdown">
          <span class="time">00:00</span>
        </div>
        <br>
        <button class="btn btn-tertiary countdown-apply">apply</button>
        <button class="btn btn-tertiary countdown-start">start</button>
        <button class="btn btn-tertiary countdown-stop">stop</button>
        <button class="btn btn-tertiary countdown-clear">clear</button>
      </section>
	
	    <h2>Increase Number</h2>
      <section>
        <input class="increase-number" type="text" value="0" disabled>
        <br>
        <br>
        <button class="btn btn-tertiary increase-start">start</button>
      </section>
	
	    <h2>block body scroll</h2>
      <section>
        <button class="btn btn-tertiary block">block</button>
        <button class="btn btn-tertiary block scroll">scroll</button>
      </section>
	
	    <h2>prevent scroll event</h2>
	    <section>
        <button class="btn btn-tertiary prevent">prevent</button>
        <button class="btn btn-tertiary prevent scroll">scroll</button>
      </section>
	
	    <h2>loading</h2>
      <section>
        <button class="btn loadingBtn">loading start</button>
      </section>
	
	    <h2>swipe</h2>
      <section>
        <button class="btn btn-tertiary body swipe-on">body swipe - on</button>
        <button class="btn btn-tertiary body swipe-off">body swipe - off</button>
        <br>
        <br>
        <ul><li>swipe direction default- <b>vertical</b></li></ul>
        <br>
        <br>
        <button class="btn btn-tertiary element swipe-on">element swipe - on</button>
        <button class="btn btn-tertiary element swipe-off">element swipe - off</button>
        <br>
        <br>
        <ul><li>swipe direction default- <b>horizontal</b></li></ul>
        <br>
        <br>
        <div class="zone" style="border: 1px solid #000; width: 100%; height: 200px">
          element - swipe zone
        </div>
      </section>
	
	    <h2>transform</h2>
      <section>
        <div class="transform obj" style="position: relative; width: 30px; height: 30px; background: #ddd"></div>
        <br>
        <button class="transform btn">transform start</button>
      </section>
	
	    <h2>gsap</h2>
      <section>
        <h4>Tween</h4>
        <div class="gsap obj" style="position: relative; width: 30px; height: 30px; background: #ddd"></div>
        <br>
        <button class="gsap btn">gsap start</button>

        <br>
        <br>

        <h4>Timeline</h4>
        <div class="motion0 obj" style="position: relative; width: 30px; height: 30px; background: #ddd"></div>
        <div class="motion1 obj" style="position: relative; width: 30px; height: 30px; background: #eee"></div>
        <div class="motion2 obj" style="position: relative; width: 30px; height: 30px; background: #ccc"></div>
        <br>
        <button class="timeline btn play">timeline play</button>
        <button class="timeline btn pause">timeline pause</button>
        <button class="timeline btn stop">timeline stop</button>
      </section>
	
	    <h2>lottie</h2>
      <section>
        <div id="lottie" style="width: 100%; height: 500px"></div>
        <button class="btn btn-tertiary lottie-start">start</button>
        <button class="btn btn-tertiary lottie-pause">pause</button>
        <button class="btn btn-tertiary lottie-stop">stop</button>
      </section>
    </div>
    <!--: End #contents -->

    @@include('./html/inc/footer.html')
  </div>

<!-- libs -->
<script src="/app/libs/jquery.easing.min.js"></script>
<script src="/app/libs/lottie.min.js"></script>
<script src="/app/libs/gsap.min.js"></script>
<script src="/app/libs/wow.min.js"></script>

<!-- App, utils, plugin -->
<script src="/app/js/App.js"></script>
<script src="/app/js/utils.js"></script>
<script src="/app/js/plugin.js"></script>

</body>
<script>
	;($ => {
		
		/** document ready */
		$(() => {
			let guide = $.App.Guide()
			
			for (let plugin in guide) {
				setTimeout(() => {
					guide[plugin]()
				}, 1)
				
			}
		})
		
		$.App.Guide = () => {
			return {
				accordion () {
					let $accordion = $('.js-accordion')
					
					// init
					$accordion.accordion('clear').accordion({
						// type: 'multi', // type: single(default), multi
						// activeIndex: 2 // default: -1
						
					// event
					}).on('open', e => {
						console.log('accordion, type: ' + e.type + ', activeIndex: ' + e.activeIndex)
					})
					
					// method - active
					$accordion.accordion('active', 2)
				},
				calendar () {
					let $calendar = $('.js-calendar')
					
					// init, event
					$calendar.calendar('clear').calendar({
						// datepicker options
					}).calendar('set', new Date())
					
					$calendar.on('change', e => {
						console.log(e.date)
						console.log(e.datepicker)
					})
					
					// get
					$('.calendar-btn').on('click', e => {
						console.log('calendar get: ', $calendar.calendar('get'))
					})
				},
				dropdown () {
					let $dropdown = $('.js-dropdown')
					// // event
					$dropdown.on('change', e => {
						console.log('dropdown, type: ' + e.type + ', activeIndex: ' + e.activeIndex + ', value: ' + e.value)
					})
					// // init
					$dropdown.dropdown('clear').dropdown({
						// placeholder: '선택하세요.' // placeholder: default: -1
						activeIndex: 3, // default: 0
						disableIndex: [2, 3],
					})
					// method - active
					// $dropdown.dropdown('active', 6)
					
					$('.dropdown-apply').on('click', e => {
						$('.js-dropdown').dropdown()
					})
					$('.dropdown-clear').on('click', e => {
						$('.js-dropdown').dropdown('clear')
					})
				},
				postcode () {
					let $postcode = $('.js-postcode')
					
					$postcode.on('complete-close force-close', (e, address) => {
						if (e.type === 'complete-close') {
							console.log(e.address, address)
						} else if (e.type === 'force-close') {
							console.log(e.type)
						}
					})
				},
				tab () {
					let $tab = $('.js-tab')
					// event
					$tab.on('change', e => {
						console.log('tab, type: ' + e.type + ', activeIndex: ' + e.activeIndex)
					})
					// init
					$tab.tab('clear').tab({
						// activeIndex: 1 // default: 0
					})
					// method - active
					// $tab.tab('active', 2)
					
					$('.tab-apply').on('click', e => {
						$('.js-tab').tab()
					})
					$('.tab-clear').on('click', e => {
						$('.js-tab').tab('clear')
					})
				},
				paging () {
					let $paging = $('.paging.js-paging')
					// event: change
					$paging.on('change', e => {
						console.log('paging, type: ' + e.type + ', offset: ' + e.offset + ', total: ' + e.total)
					})
					// init
					$paging.paging({
						offset: 4, // 현재 페이지 (default: 0)
						limit: 10, // 화면에 보여지는 리스트 갯수 (default: 10)
						total: 232 // 전체 리스트 갯수
						// pagingLength: 10 // 화면에 보여지는 paging 갯수 (default: 10) | mobile (default: 5)
					})
					// method - set
					// $paging.paging('set', 4) // offset
					
					$('.paging-apply').on('click', e => {
						$('.js-paging').paging({
							offset: 5, // 현재 페이지 (default: 0)
							limit: 10, // 화면에 보여지는 리스트 갯수
							total: 120 // 전체 리스트 갯수
						})
					})
					$('.paging-clear').on('click', e => {
						$('.js-paging').paging('clear')
					})
				},
				modal () {
					$('.modalBtn').on('click', event => {
						/**
						 * closedFocus: 접근성 준수
						 * preventScroll: 스크롤 처리 방식 (default: blockBodyScroll)
						 ** */
						
						if (event.target.className.indexOf(' alert') > -1) {
							$('#pop-alert').modal({clickToClose: true, classes: 'add class test', closedFocus: '.modalBtn.alert', preventScroll: true}, e => {
								console.log(e)
							})
							
						} else if (event.target.className.indexOf(' confirm') > -1) {
							$('#pop-confirm').modal({classes: 'add class test', closedFocus: '.modalBtn.confirm', preventScroll: true}, e => {
								console.log(e)
							})
							
						} else if (event.target.className.indexOf(' modal') > -1) {
							$('#pop-modal').modal({closedFocus: '.modalBtn.modal'}, e => {
								console.log(e)
								if (e.type === 'open') {
									e.$modal.find('.modalBtn').on('click', e => {
										// $('#pop-modal').modal('close')
										// $('#pop-alert').modal({closedFocus: '.modalBtn.modal'})
										$('#pop-alert').modal({classes: 'multi', dimmed: false, closedFocus: '#pop-modal .modalBtn'})
									})
								}
							})
							
						} else if (event.target.className.indexOf(' full') > -1) {
							$('#pop-full').modal({clickToClose: false, closedFocus: '.modalBtn.full'}, e => {
								console.log(e)
								if (e.type === 'open') {
									e.$modal.find('.modalBtn').on('click', e => {
										console.log(e)
										$('#pop-alert').modal({classes: 'multi', closedFocus: '#pop-full .modalBtn'}) // multi: dimmed 삭제 class
									})
								}
							})
						}
					})
				},
				loading () {
					$('.loadingBtn').on('click', e => {
						console.log('loading: start', $.loading(true))
						
						setTimeout(() => {
							console.log('loading: end', $.loading(false))
						}, 1000)
					})
				},
				countdown () {
					let $countdown = $('.js-countdown')
					$countdown.countdown('clear').countdown({
						format: 'HH:mm:ss', // default: mm:ss
						start: 160 // default: 60
					})
					$countdown.countdown('start').on('complete', e => {
						console.log('countdown - complete')
					})
					
					$('.countdown-start').on('click', e => {
						$('.js-countdown').countdown('start')
					})
					$('.countdown-stop').on('click', e => {
						$('.js-countdown').countdown('stop')
					})
					$('.countdown-apply').on('click', e => {
						$('.js-countdown').countdown()
					})
					$('.countdown-clear').on('click', e => {
						$('.js-countdown').countdown('clear')
					})
				},
				increaseNumber () {
					$('.increase-start').on('click', e => {
						$.increaseNumber(
							$('.increase-number'), {
								start: '0',               // required
								end: 99999,               // required
								duration: 2000,           // default: 2000
								easing: 'easeInOutCubic'  // default: easeOutExpo
							}, // start, end - number
						).on('complete', e => {
							console.log(e.type)
						})
					})
				},
				swiper () {
					const swiper = new Swiper('.swiper', {
						// direction: 'vertical',
						loop: false,
						pagination: {
							el: '.swiper-pagination',
							clickable: true
						},
						navigation: {
							nextEl: '.swiper-button-next',
							prevEl: '.swiper-button-prev',
						},
						scrollbar: {
							el: '.swiper-scrollbar',
						},
						on: {
							init () {
								console.log('swiper-init', this.realIndex)
							},
							transitionEnd () {
								// console.log('swiper-end', this.realIndex)
							},
							slideChange () {
								// console.log('swiper-change', this.realIndex)
							},
							resize () {
								console.log('swiper-resize')
							}
						}
					})
				},
				swipe () {
					$.bodySwipe({
						// direction: 'horizontal',
						down () {/** console.log('body swipe down') */},
						move () {/** console.log('body swipe move') */},
						up (dir, dis) {console.log('body swipe - up', dir, dis)}
					}).bodySwipe('off')
					
					$('.zone').swipe({
						// direction: 'vertical',
						down (e) {/** console.log('element down') */},
						move (e) {/** console.log('element move') */},
						up (dir, dis) {console.log('element swipe up', dir, dis)}
					}).swipe('off')
					
					$('.swipe-on, .swipe-off').on('click', e => {
						let classList = e.target.className
						
						if (classList.indexOf('body') > -1) {
							if (classList.indexOf('on') > -1) {
								$.preventScroll(true)
								$.bodySwipe('on')
							} else {
								$.bodySwipe('off')
								$.preventScroll(false)
							}
							
						} else {
							if (classList.indexOf('on') > -1) {
								$.preventScroll(true)
								$('.zone').swipe('on')
							} else {
								$('.zone').swipe('off')
								$.preventScroll(false)
							}
						}
					})
				},
				blockBodyScroll () {
					$('.btn.block:not(.scroll)').on('click', e => {
						$.blockBodyScroll(true)
					})
					$('.btn.block.scroll').on('click', e => {
						$.blockBodyScroll(false)
					})
				},
				preventScrollEvent () {
					$('.btn.prevent:not(.scroll)').on('click', e => {
						$.preventScroll(true)
					})
					$('.btn.prevent.scroll').on('click', e => {
						$.preventScroll(false)
					})
				},
				transform () {
					$('.transform.btn').on('click', e => {
						let left = parseInt($(window).width() - $('.transform.obj').width() * 3)
						$('.transform.obj').transform({
							transform: `translate3d(${left}px, 0px, 0px) scaleX(1.5) scaleY(1.5)`,
							transition: `1s ${$.utils.easing.Expo.easeInOut} 0s`
						}).on('transition-end', () => {
							console.log('transition-end')
						})
					})
				},
				gsap () {
					// tween
					let left = parseInt($(window).width() - $('.gsap.obj').width() * 3)
					$('.gsap.btn').on('click', e => {
						gsap.to('.gsap.obj', 1, {
							transform: `translate3d(${left}px, 0px, 0px) scaleX(1.5) scaleY(1.5)`,
							ease: Expo.easeInOut,
							onComplete: () => {
								console.log('onComplete')
							}})
					})
					
					// timeline
					let timeline = gsap.timeline({
						paused: true,
						// repeat: 1,
						// repeatDelay: 1,
						onStart () {
							console.log('start', this)
						},
						onComplete () {
							console.log('complete', this)
							this.reverse()
						}
					})
					timeline.to('.motion0', 0.5, {transform: `translate3d(${left}px, 0px, 0px) scaleX(1.5) scaleY(1.5)`})
					timeline.to('.motion1', 0.5, {transform: `translate3d(${left}px, 0px, 0px) scaleX(1.5) scaleY(1.5)`})
					timeline.to('.motion2', 0.5, {transform: `translate3d(${left}px, 0px, 0px) scaleX(1.5) scaleY(1.5)`})
					$('.timeline.btn.play').on('click', e => {
						timeline.play()
					})
					$('.timeline.btn.pause').on('click', e => {
						timeline.pause()
					})
					$('.timeline.btn.stop').on('click', e => {
						timeline.clear().kill()
					})
				},
				lottie () {
					let _lottie = lottie.loadAnimation({
						container: document.getElementById('lottie'),
						renderer: 'svg',
						// animationData: '', async
						path: '/App/data/lottie.json',
						loop: false, // default: true
						autoplay: true // default: true
					})
					
					$('.lottie-start').on('click', e => {
						_lottie.play()
					})
					$('.lottie-pause').on('click', e => {
						_lottie.pause()
					})
					$('.lottie-stop').on('click', e => {
						_lottie.stop()
					})
				}
			}
		}
	})(window.jQuery)
</script>
</html>
